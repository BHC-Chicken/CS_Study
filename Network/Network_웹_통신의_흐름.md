> 각 내용에서 설명하고 싶은 내용을 작성하였습니다.

## TCP/IP 4계층 모델 (Judy)

### 1. 애플리케이션 계층

FTP, HTTP, SSH, SMTP, DNS 등 응용 프로그램이 사용되는 프로토콜 계층

- HTTP는 너무 중요해서 따로 주제 분리

<br>

### ✔️ Point 1 : DNS

사람은 고정 길이의 주민등록번호와 이름으로 식별할 수 있다. 컴퓨터는 주민등록번호를 선호할 것이고, 일반 사람들은 이름을 선호할 것이다.

이와 같이 `www.google.com`와 같은 호스트 이름은 사용자들이 기억하기 좋아 선호한다. 하지만 이 호스트 이름으로는 호스트 위치에 대한 정보도 얻을 수 없고, 가변 길이로 라우터가 처리하는 데도 어려움이 있다. 그래서 IP 주소로 식별된다.

즉, 호스트를 식별하는 방법은 호스트 이름과 IP 주소로 두 가지이다.

### [ DNS (Domain Name System Servers) ]

사람과 라우터는 서로 선호하는 식별자가 다르다. 이를 절충하기 위해서 호스트 이름을 IP 주소로 변환해줄 필요가 있는데, 이때 DNS를 이용한다.

DNS는 도메인 이름과 IP 주소를 저장하고 있는 분산 데이터베이스로, **웹사이트를 위한 주소록**이라고 생각하면 된다.

숫자로 된 IP 주소(ex. 63.245.217.105) 대신 사용자가 사용하기 편리하도록 주소를 매핑해주는 역할을 한다.

### 1) 분산 계층 데이터베이스

만약에 DNS 한 곳에 모든 질의를 한다면 간단하다. 하지만 <u>중앙 집중 데이터베이스</u>는 서버의 고장, 트래픽양, 먼 거리의 중앙 집중 데이터베이스, 유지관리 등의 문제를 고려하여 **확장성이 없다**는 것을 알 수 있다.

💡그래서 DNS는 많은 서버를 이용해 **계층 형태로 분산**시킨다.

<div align='center'>
    <img src="./img/DNS_계층구조.png" width="550px">
</div>

세 가지 DNS 서버로 나뉜다.

- 루트 DNS 서버
    - 1000개 이상의 루트 서버 인스턴스가 전세계에 흩어져 있다.
    - 루트 네임 서버는 TLD 서버의 IP 주소들을 제공한다.

- 최상위 레벨 도메인 네임 (top-level domain, TLD) DNS 서버
    - com, org, net, edu, gov와 같은 상위 레벨 도메인과 kr, uk, fr와 같은 모든 국가의 상위 레벨 도메인에 대한 TLD 서버가 있다.
    - TLD 서버는 책임 DNS 서버에 대한 IP 주소를 제공한다.

- 책임 (authoritative) DNS 서버
    - 조직의 자체 DNS 서버, 조직의 명명 된 호스트에 대한 IP 매핑에 권한있는 호스트 이름을 제공한다.


### 2) DNS query

ISP(Internet Service Provider)의 DNS서버(**DNS recursor**)가 호스팅하고 있는 서버의 IP주소를 찾기 위해 DNS query를 날린다.

- **DNS query의 목적**
    - DNS 서버들을 검색해서 해당 사이트의 IP주소를 찾는데에 있다. IP주소를 찾을 때 까지 DNS서버에서 다른 DNS서버를 오가며 에러가 날때까지 반복적으로 검색한다.
    - `재귀적 질의`(recursive search), `반복적 질의`(iterative query)

<div align='center'>
    <img src="./img/DNS_query.png" width="550px">
</div>

```
'www.google.com' 주소에 대해 검색할 때,
1. DNS recursor가 루트 DNS 서버에 요청
2. .com 도메인 TLS 서버로 리다이렉트
3. google.com 책임 DNS 서버로 리다이렉트
4. 최종적으로 DNS기록에서 'www.google.com' 에 매칭되는 IP주소 찾기
5. 찾은 주소를 DNS recursor로 보내기
```

요청한 호스트에게 매핑 결과를 전달하기 위해 많은 질의 메세지가 필요하다.

그래서 질의 전송을 줄이기 위해서 <u>**DNS 캐싱**</u> 방법을 사용한다.


### 3) DNS 캐싱

DNS 지역 성능 향상과 네트워크의 DNS 메세지 수를 줄이기 위해서 캐싱을 사용한다.

- DNS 서버가 DNS 응답을 받았을 때 그것을 로컬 메모리에 응답 정보를 저장할 수 있다.
- 호스트 이름과 IP 주소 쌍이 DNS 서버에 저장되면 처음 브라우저가 캐싱된 DNS를 확인하고 캐싱된 기록이 없을 때 DNS 질의로 넘어간다.
- 호스트 이름과 IP 주소 사이 매핑과 호스트는 영구적이지 않기 때문에 특정 기간마다 저장된 정보를 제거한다.

<br>

🎯 브라우저에 입력된 도메인 이름을 통해 해당 도메인의 IP 주소를 얻은 뒤 통신을 시작할 수 있다.

🎯 DNS를 통해 이 과정을 얻는 것에 대해 알았으니 이 내용을 토대로 웹 통신 흐름에 대해서 알아보자.

<br>

### ✔️ Point 2 : 웹 통신의 흐름





---
### 📢 같이 공부하면 좋을 면접 질문
1. 웹 통신 전반적인 흐름 | www.google.com을 브라우저의 주소바에 입력하고 엔터를
입력하였을 때 일어나는 일들을 설명해보세요.
2. OSI 7계층과 TCP/IP 4계층의 차이점에 대해 설명해보세요.
3. OSI 7계층과 그 존재 이유, TCP/IP 4계층에 대해 설명해보세요.

---
### 📌 Reference  